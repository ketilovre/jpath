!function(a,b){b.jpath=a;var c=b._;if("undefined"==typeof c){if("undefined"==typeof require)throw new Error("j requires lodash");c=require("lodash")}var d=function(a){"use strict";this.json=a};!function(){"use strict";d.prototype.get=function(a){var b=this,c=this.parseSegments(a);return c.reduce(function(a,c){return a.map(function(a){return"deep"===c.type?b.deep(c.identifier,a):b.shallow(c.identifier,a)}).reduce(function(a,b){return a.concat(b)},[])},this.json)},d.prototype.map=function(a,b){function d(a,e){return c.map(a,function(a,f){if(e.length>0){if(f===e[0].identifier&&1===e.length)return{key:f,val:b(a)};if(f===e[0].identifier)return{key:f,val:d(a,e.slice(1))};if("deep"===e[0].type&&(c.isArray(a)||c.isPlainObject(a)))return{key:f,val:d(a,e)};if((c.isArray(a)||c.isPlainObject(a))&&c.isNumber(f))return{key:f,val:d(a,e)}}return{key:f,val:a}}).reduce(function(a,b){if(!a){var c=0===b.key?[]:{};a=c}return a[b.key]=b.val,a},null)}var e=this.parseSegments(a);return b=b||function(a){return a},d(this.json,e)}}(),function(){"use strict";d.prototype.shallow=function(a,b){return c.isArray(b)?b.map(function(b){return c.filter(b,function(b,c){return c===a})}).reduce(function(a,b){return a.concat(b)},[]):c.filter(b,function(b,c){return c===a})},d.prototype.deep=function(a,b){function d(b){c.forEach(b,function(b,f){f===a?e.push(b):(c.isArray(b)||c.isPlainObject(b))&&d(b)})}var e=[];return d(b),e}}(),function(){"use strict";d.prototype.parseSegments=function(a){return a?a.match(/(\/\/|\/)(\w+)/g).map(function(a){return a.indexOf("//")>-1?{type:"deep",identifier:a.replace(/\/\/|\//,"")}:{type:"shallow",identifier:a.replace(/\/\/|\//,"")}}):[]}}(),function(){"use strict";d.prototype.has=function(a){return!!this.get(a).length},d.prototype.count=function(a){return this.get(a).length},d.prototype.one=function(a){return this.get(a).shift()}}(),function(){"use strict";var a=function(a){return new d(a)};"undefined"!=typeof module&&module.exports?module.exports=a:b.jpath=a}()}({},function(){return this}());